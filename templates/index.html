<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenta√ß√£o da API - Jetrom</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; background-color: #f9f9f9; color: #333; }
        h1, h2, h3 { color: #2c3e50; }
        h1 { border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { border-bottom: 1px solid #ddd; padding-bottom: 5px; margin-top: 30px; }
        code { background-color: #e8e8e8; padding: 3px 7px; border-radius: 5px; font-family: 'Courier New', Courier, monospace; border: 1px solid #ccc; }
        pre { background-color: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 5px; overflow-x: auto; border: 1px solid #444; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        pre code { background-color: transparent; padding: 0; border-radius: 0; border: none; } /* Reset for code inside pre */
        .container { max-width: 800px; margin: auto; background-color: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
        .note { background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 12px 18px; margin-bottom: 20px; border-radius: 4px; }
        .success { background-color: #e8f5e9; border-left: 6px solid #4CAF50; padding: 12px 18px; margin-bottom: 15px; border-radius: 4px; }
        .error { background-color: #ffebee; border-left: 6px solid #f44336; padding: 12px 18px; margin-bottom: 15px; border-radius: 4px; }
        strong { color: #3498db; }
        ul { list-style-type: square; padding-left: 20px; }
        li { margin-bottom: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üëã Documenta√ß√£o da API: Jetrom</h1>
        <p>E ai, Dev! Preparado para integrar a API <strong>Jetrom</strong> e dar um upgrade no seu projeto com o poder do Gemini? Este tutorial vai te guiar passo a passo, de forma clara e direta. Vamos l√°!</p>

        <hr>

        <h2>Vis√£o Geral da API</h2>
        <p>A API foi criada para ser simples e intuitiva. Ela possui um √∫nico endpoint principal que recebe suas solicita√ß√µes para gerar texto.</p>
        <ul>
            <li><strong>Formato:</strong> REST</li>
            <li><strong>Comunica√ß√£o:</strong> JSON</li>
        </ul>

        <hr>

        <h2>Endpoint: <code>/generate</code></h2>
        <p>Este √© o cora√ß√£o da API. √â aqui que a m√°gica acontece.</p>
        <ul>
            <li><strong>URL:</strong> <code>https://ask-jetrom.vercel.app/generate</code></li>
            <li><strong>M√©todo HTTP:</strong> <code>POST</code></li>
            <li><strong>Descri√ß√£o:</strong> Envia um texto (prompt) e recebe uma resposta gerada pela intelig√™ncia artificial.</li>
        </ul>
        <div class="note">
            <p><strong>Ponto Importante:</strong> A API gerencia a chave de acesso do Google (Gemini) no servidor. Isso significa que <strong>voc√™ n√£o precisa enviar nenhuma chave de autentica√ß√£o</strong> na sua requisi√ß√£o. Mais simples, imposs√≠vel!</p>
        </div>

        <hr>

        <h2>Como Fazer a Requisi√ß√£o</h2>
        <p>Para se comunicar com a API, voc√™ precisa montar uma requisi√ß√£o <code>POST</code> com a estrutura correta.</p>

        <h3>Cabe√ßalhos (Headers)</h3>
        <p>Sua requisi√ß√£o deve incluir o seguinte cabe√ßalho para indicar que voc√™ est√° enviando dados em JSON:</p>
        <pre><code>Content-Type: application/json</code></pre>

        <h3>Corpo da Requisi√ß√£o (Body)</h3>
        <p>O corpo da requisi√ß√£o deve ser um objeto JSON contendo a chave <code>prompt</code>:</p>
        <pre><code class="language-json">{
  "prompt": "Sua pergunta ou instru√ß√£o para a IA vai aqui."
}</code></pre>
        <ul>
            <li><code>prompt</code> (string): Este campo √© <strong>obrigat√≥rio</strong> e cont√©m o texto que voc√™ quer que a IA processe.</li>
        </ul>

        <hr>

        <h2>O que Esperar da Resposta</h2>

        <h3 class="success">‚úÖ Sucesso</h3>
        <p>Se tudo correr bem (Status <code>200 OK</code>), a resposta ser√° um objeto JSON com o texto gerado:</p>
        <pre><code class="language-json">{
  "generated_text": "A resposta da IA para o seu prompt aparecer√° aqui."
}</code></pre>

        <h3 class="error">‚ùå Erros</h3>
        <p>A API √© configurada para retornar mensagens de erro claras:</p>
        <ul>
            <li><code>400 Bad Request</code>: Acontece se voc√™ esquecer o campo <code>prompt</code> ou enviar um formato diferente de JSON.</li>
            <li><code>429 Too Many Requests</code>: A API tem um limite de requisi√ß√µes (10 por hora) para cada IP. Se voc√™ exceder, receber√° este erro.</li>
            <li><code>500 Internal Server Error</code>: Indica um problema do lado do servidor, como uma falha na comunica√ß√£o com a IA.</li>
        </ul>

        <hr>

        <h2>üíª M√£o na Massa: Exemplos de C√≥digo</h2>
        <p>Veja como √© f√°cil integrar a API em diferentes ambientes. N√£o se esque√ßa de substituir <code>https://ask-jetrom.vercel.app/generate</code> pela URL real da sua API.</p>

        <h3>cURL (Terminal)</h3>
        <p>Perfeito para fazer um teste r√°pido na linha de comando.</p>
        <pre><code class="language-bash">curl -X POST "https://ask-jetrom.vercel.app/generate" \
-H "Content-Type: application/json" \
-d '{
  "prompt": "Explique o que √© uma API de forma simples e divertida."
}'</code></pre>

        <h3>Python (para Backend)</h3>
        <p>Ideal para integrar em seus servi√ßos ou scripts Python. Voc√™ precisar√° da biblioteca <code>requests</code> (<code>pip install requests</code>).</p>
        <pre><code class="language-python">import requests
import json

api_url = "https://ask-jetrom.vercel.app/generate"
headers = {
    'Content-Type': 'application/json'
}
payload = {
    'prompt': 'Crie uma pequena hist√≥ria sobre um rob√¥ que sonhava em ser chef de cozinha.'
}

try:
    response = requests.post(api_url, data=json.dumps(payload), headers=headers)
    response.raise_for_status()  # Levanta um erro para respostas HTTP 4xx/5xx

    result = response.json()
    print(result['generated_text'])

except requests.exceptions.HTTPError as http_err:
    print(f"Erro HTTP: {http_err}")
    print(f"Resposta do servidor: {response.text}")
except requests.exceptions.RequestException as e:
    print(f"Ocorreu um erro na requisi√ß√£o: {e}")
    if 'response' in locals() and response is not None:
        print(f"Resposta do servidor: {response.text}")
</code></pre>

        <h3>JavaScript (para Frontend)</h3>
        <p>Use a <code>Fetch API</code> para consumir a API diretamente de uma p√°gina web.</p>
        <pre><code class="language-javascript">async function callGuiaCuriosoAPI(promptText) {
    const apiUrl = 'https://ask-jetrom.vercel.app/generate'; // Substitua pela URL real da sua API

    try {
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                prompt: promptText
            })
        });

        if (!response.ok) {
            // Tenta pegar a mensagem de erro do corpo da resposta JSON
            let errorData;
            try {
                errorData = await response.json();
            } catch (e) {
                // Se n√£o for JSON, usa o statusText
                errorData = { error: response.statusText };
            }
            throw new Error(`Erro na API (${response.status}): ${errorData.error || 'Erro desconhecido'}`);
        }

        const data = await response.json();
        console.log("Texto Gerado:", data.generated_text);
        // Exemplo de como exibir na p√°gina:
        // document.getElementById('resultadoApi').innerText = data.generated_text;
        return data.generated_text;

    } catch (error) {
        console.error("Falha ao buscar dados da API Jetrom:", error);
        // Exemplo de como exibir erro na p√°gina:
        // document.getElementById('erroApi').innerText = error.message;
        return null; // Ou lan√ßar o erro novamente: throw error;
    }
}

// Exemplo de uso:
callGuiaCuriosoAPI("Qual a dist√¢ncia entre a Terra e a Lua em quil√¥metros?")
    .then(text => {
        if (text) {
            // Fa√ßa algo com o texto, como exibir em um elemento HTML
            // const outputElement = document.getElementById('apiOutput');
            // if (outputElement) outputElement.textContent = text;
        }
    });
</code></pre>
        <p>E √© isso! Agora voc√™ tem tudo o que precisa para come√ßar a construir coisas incr√≠veis com a API <strong>Jetrom</strong>. Boas implementa√ß√µes! ‚ú®</p>
    </div>
</body>
</html>
